(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{67:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return p}));var r=n(2),o=n(6),a=(n(0),n(72)),c={id:"local-environment",title:"Local environment"},i={unversionedId:"recipes/local-environment",id:"recipes/local-environment",isDocsHomePage:!1,title:"Local environment",description:"If you develop or test workflows, you might not want to access the production systems.",source:"@site/docs/recipes/local-environment.md",permalink:"/jyfti/docs/recipes/local-environment",editUrl:"https://github.com/jyfti/jyfti/edit/master/website/docs/recipes/local-environment.md",sidebar:"someSidebar",previous:{title:"The Jyfti Format",permalink:"/jyfti/docs/format"},next:{title:"Authentication",permalink:"/jyfti/docs/recipes/authentication"}},s=[],l={rightToc:s};function p(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"If you develop or test workflows, you might not want to access the production systems.\nIn these cases, environments can be used to access test systems or mocks instead."),Object(a.b)("p",null,"Assuming there is an environment ",Object(a.b)("inlineCode",{parentName:"p"},"prod"),"."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-json"}),'{\n  "baseUrl": "https://api.github.com"\n}\n')),Object(a.b)("p",null,"Then, there can be an environment ",Object(a.b)("inlineCode",{parentName:"p"},"local")," of the same structure."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-json"}),'{\n  "baseUrl": "http://localhost:8080"\n}\n')),Object(a.b)("p",null,"The workflow can then define to use the base url from the environment."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-json"}),'{\n  "$schema": "https://raw.githubusercontent.com/jyfti/jyfti/master/workflow-schema.json",\n  "name": "Retrieve the current status of the rate limit at GitHub",\n  "env": {\n    "baseUrl": {\n      "type": "string"\n    }\n  },\n  "output": {\n    "$eval": "rateLimit"\n  },\n  "steps": [\n    {\n      "assignTo": "rateLimit",\n      "request": {\n        "url": "${env.baseUrl}/rate_limit"\n      }\n    }\n  ]\n}\n')),Object(a.b)("p",null,"Via the environment option, a run can be started with one of these environments."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"$ jyfti run -e prod\n$ jyfti run -e local\n")),Object(a.b)("p",null,"For the local environment, a technology such as ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.mock-server.com/"}),"MockServer")," or ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"http://www.mbtest.org/docs/gettingStarted"}),"Mountebank")," can be used to mock the http calls."))}p.isMDXComponent=!0},72:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=o.a.createContext({}),p=function(e){var t=o.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},m=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=p(n),m=r,f=u["".concat(c,".").concat(m)]||u[m]||b[m]||a;return n?o.a.createElement(f,i(i({ref:t},l),{},{components:n})):o.a.createElement(f,i({ref:t},l))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,c=new Array(a);c[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,c[1]=i;for(var l=2;l<a;l++)c[l]=n[l];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);